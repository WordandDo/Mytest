# Seed å’Œ Agent ç±»å‹è§£è€¦è¯´æ˜

## æ ¸å¿ƒç†å¿µ

åœ¨æ–°çš„è®¾è®¡ä¸­ï¼Œ**seedç±»å‹**å’Œ**agentç¯å¢ƒæ¨¡å¼**å®Œå…¨è§£è€¦ï¼Œå®ç°äº†æœ€å¤§çš„çµæ´»æ€§ã€‚

### ä»€ä¹ˆæ˜¯è§£è€¦ï¼Ÿ

- **Agentç¯å¢ƒæ¨¡å¼** (`environment_mode`): å†³å®šä½¿ç”¨å“ªäº›å·¥å…·ï¼ˆweb_search, calculator, python_interpreterç­‰ï¼‰
- **Seedç±»å‹** (`seed_type`): å†³å®šæ¢ç´¢çš„èµ·ç‚¹ç±»å‹ï¼ˆentity, problem, text, urlç­‰ï¼‰

**è¿™ä¸¤è€…æ˜¯ç‹¬ç«‹çš„ï¼** ä»»ä½•agentç¯å¢ƒéƒ½å¯ä»¥ä½¿ç”¨ä»»ä½•ç±»å‹çš„seedã€‚

---

## é…ç½®ç¤ºä¾‹

### ç¤ºä¾‹1: Web Agent + Problem Seed

```json
{
  "environment_mode": "web",
  "seed_type": "problem",
  "available_tools": ["web_search", "web_visit"],
  "seed_description": "ä¸€ä¸ªéœ€è¦é€šè¿‡ç½‘ç»œæœç´¢æ¥è§£å†³çš„é—®é¢˜",
  "max_depth": 3
}
```

**ä½¿ç”¨åœºæ™¯**: ç”¨webæœç´¢å·¥å…·æ¥è§£å†³é—®é¢˜

**Seedæ–‡ä»¶** (`seeds.json`):
```json
[
  "å¦‚ä½•è®­ç»ƒä¸€ä¸ªå¤§è¯­è¨€æ¨¡å‹ï¼Ÿ",
  "é‡å­è®¡ç®—çš„æœ€æ–°è¿›å±•æ˜¯ä»€ä¹ˆï¼Ÿ",
  "å¦‚ä½•ä¼˜åŒ–æ·±åº¦å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒé€Ÿåº¦ï¼Ÿ"
]
```

---

### ç¤ºä¾‹2: Math Agent + Entity Seed

```json
{
  "environment_mode": "math",
  "seed_type": "entity",
  "available_tools": ["calculator"],
  "seed_description": "ä¸€ä¸ªæ•°å­¦æ¦‚å¿µæˆ–å…¬å¼",
  "max_depth": 5
}
```

**ä½¿ç”¨åœºæ™¯**: åŸºäºæ•°å­¦å®ä½“è¿›è¡Œè®¡ç®—å’Œæ¨ç†

**Seedæ–‡ä»¶**:
```json
[
  "æ–æ³¢é‚£å¥‘æ•°åˆ—",
  "äºŒæ¬¡æ–¹ç¨‹",
  "åœ†å‘¨ç‡Ï€"
]
```

---

### ç¤ºä¾‹3: RAG Agent + Text Seed

```json
{
  "environment_mode": "rag",
  "seed_type": "text",
  "available_tools": ["local_search"],
  "seed_description": "ä¸€æ®µæ–‡æœ¬æˆ–ä¸»é¢˜ï¼Œä½œä¸ºçŸ¥è¯†åº“æ£€ç´¢çš„èµ·ç‚¹",
  "environment_kwargs": {
    "rag_index": "path/to/index"
  },
  "max_depth": 4
}
```

**ä½¿ç”¨åœºæ™¯**: ä»æ–‡æœ¬å‡ºå‘ï¼Œåœ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯

**Seedæ–‡ä»¶**:
```json
[
  "æ·±åº¦å­¦ä¹ ä¸­çš„æ³¨æ„åŠ›æœºåˆ¶",
  "åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸€è‡´æ€§é—®é¢˜",
  "Transformeræ¶æ„çš„ä¼˜åŠ¿"
]
```

---

### ç¤ºä¾‹4: Python Agent + URL Seed

```json
{
  "environment_mode": "python",
  "seed_type": "url",
  "available_tools": ["python_interpreter"],
  "seed_description": "ä¸€ä¸ªç½‘å€ï¼Œéœ€è¦é€šè¿‡ä»£ç åˆ†æå…¶å†…å®¹",
  "max_depth": 3
}
```

**ä½¿ç”¨åœºæ™¯**: å¯¹URLå†…å®¹è¿›è¡Œç¼–ç¨‹åˆ†æ

**Seedæ–‡ä»¶**:
```json
[
  "https://github.com/pytorch/pytorch",
  "https://arxiv.org/abs/1706.03762",
  "https://www.python.org/dev/peps/"
]
```

---

## å®Œå…¨é€šç”¨çš„Seedæ–‡ä»¶æ ¼å¼

Seedæ–‡ä»¶æ”¯æŒå¤šç§æ ¼å¼å’Œé”®åï¼Œè‡ªåŠ¨è¯†åˆ«ï¼š

### æ ¼å¼1: ç›´æ¥åˆ—è¡¨

```json
[
  "seed1",
  "seed2",
  "seed3"
]
```

### æ ¼å¼2: å­—å…¸æ ¼å¼ï¼ˆæ”¯æŒå¤šç§é”®åï¼‰

```json
{
  "seeds": ["seed1", "seed2"]
}
```

æˆ–è€…ï¼š

```json
{
  "entities": ["entity1", "entity2"]
}
```

æˆ–è€…ï¼š

```json
{
  "problems": ["problem1", "problem2"]
}
```

**æ”¯æŒçš„é”®å**: `seeds`, `entities`, `problems`, `texts`, `urls`, `data`, `items`

---

## é…ç½®å‚æ•°è¯¦è§£

### `seed_type` (å¿…éœ€)

å®šä¹‰seedçš„ç±»å‹ï¼Œå½±å“promptä¸­çš„æè¿°å’Œå¼•å¯¼ã€‚

å¯é€‰å€¼:
- `"entity"`: å®ä½“ï¼ˆäººç‰©ã€å…¬å¸ã€äº§å“ã€æ¦‚å¿µç­‰ï¼‰
- `"problem"`: é—®é¢˜æˆ–ä»»åŠ¡æè¿°
- `"text"`: æ–‡æœ¬å†…å®¹
- `"url"`: ç½‘å€é“¾æ¥
- `"qa_pair"`: é—®ç­”å¯¹
- æˆ–ä»»æ„è‡ªå®šä¹‰ç±»å‹

### `seed_description` (å¯é€‰)

è‡ªå®šä¹‰å¯¹seedç±»å‹çš„æè¿°ï¼Œä¼šåœ¨promptä¸­ä½¿ç”¨ã€‚

å¦‚æœä¸æä¾›ï¼Œç³»ç»Ÿä¼šä½¿ç”¨é»˜è®¤æè¿°ã€‚

### `environment_mode` (å¿…éœ€)

Agentä½¿ç”¨çš„ç¯å¢ƒå’Œå·¥å…·ã€‚

å¯é€‰å€¼:
- `"web"`: ç½‘ç»œæœç´¢ç¯å¢ƒ
- `"math"`: æ•°å­¦è®¡ç®—ç¯å¢ƒ
- `"python"`: Pythonç¼–ç¨‹ç¯å¢ƒ
- `"rag"`: RAGæ£€ç´¢ç¯å¢ƒ

### `available_tools` (å¿…éœ€)

è¯¥ç¯å¢ƒä¸‹å¯ç”¨çš„å·¥å…·åˆ—è¡¨ã€‚

ç¤ºä¾‹:
```json
"available_tools": ["web_search", "web_visit"]
```

---

## ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯1: ç”¨Webå·¥å…·æ¢ç´¢æ•°å­¦é—®é¢˜

```bash
# 1. åˆ›å»ºé…ç½® config.json
{
  "environment_mode": "web",
  "seed_type": "problem",
  "available_tools": ["web_search", "web_visit"],
  "seed_description": "éœ€è¦é€šè¿‡æœç´¢è§£å†³çš„æ•°å­¦é—®é¢˜",
  "model_name": "gpt-4o-mini",
  "max_depth": 3,
  "branching_factor": 2
}

# 2. åˆ›å»ºseedæ–‡ä»¶ math_problems.json
[
  "ä»€ä¹ˆæ˜¯é»æ›¼çŒœæƒ³ï¼Ÿ",
  "è´¹é©¬å¤§å®šç†æ˜¯å¦‚ä½•è¢«è¯æ˜çš„ï¼Ÿ",
  "å“¥å¾·å·´èµ«çŒœæƒ³çš„ç ”ç©¶è¿›å±•"
]

# 3. è¿è¡Œ
python synthesis_pipeline.py \
    --config config.json \
    --seeds math_problems.json \
    --output-dir results
```

### åœºæ™¯2: ç”¨Mathå·¥å…·å¤„ç†å®ä½“

```bash
# 1. é…ç½®
{
  "environment_mode": "math",
  "seed_type": "entity",
  "available_tools": ["calculator"],
  "seed_description": "æ•°å€¼ã€å…¬å¼æˆ–æ•°å­¦æ¦‚å¿µ"
}

# 2. Seeds
[
  "1024",
  "æ¬§æ‹‰å…¬å¼",
  "é»„é‡‘æ¯”ä¾‹"
]

# 3. è¿è¡Œ
./run_generic_synthesis.sh custom my_config.json my_seeds.json
```

### åœºæ™¯3: ç”¨RAGæ£€ç´¢é—®é¢˜ç­”æ¡ˆ

```bash
# 1. é…ç½®
{
  "environment_mode": "rag",
  "seed_type": "problem",
  "available_tools": ["local_search"],
  "seed_description": "éœ€è¦åœ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç­”æ¡ˆçš„é—®é¢˜",
  "environment_kwargs": {
    "rag_index": "knowledge_base/index"
  }
}

# 2. Seeds (é—®é¢˜åˆ—è¡¨)
[
  "å¦‚ä½•å®ç°åˆ†å¸ƒå¼è®­ç»ƒï¼Ÿ",
  "Attentionæœºåˆ¶çš„æ•°å­¦åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"
]
```

---

## Promptè‡ªåŠ¨é€‚é…

ç³»ç»Ÿä¼šæ ¹æ®é…ç½®è‡ªåŠ¨ç”Ÿæˆé€‚é…çš„promptï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚

### Agentæ¢ç´¢Promptç»“æ„

```
ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½Agentï¼Œæ­£åœ¨ä½¿ç”¨å¯ç”¨å·¥å…·è¿›è¡Œæ¢ç´¢å’Œæ¨ç†ã€‚

ã€èµ·ç‚¹ä¿¡æ¯ã€‘
- ç±»å‹: {seed_type}
- è¯´æ˜: {seed_description}
- å†…å®¹: {seed_data}

ã€æ¢ç´¢ç›®æ ‡ã€‘
æ ¹æ®èµ·ç‚¹ç±»å‹å’Œå†…å®¹ï¼Œä½¿ç”¨å¯ç”¨å·¥å…·è¿›è¡Œç³»ç»Ÿæ€§æ¢ç´¢ï¼Œæ”¶é›†å’Œæ¨ç†å‡ºæœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚

{synthesis_tips}

{å·¥å…·æè¿°}

{å†å²è½¨è¿¹}

{å½“å‰è§‚å¯Ÿ}
```

### QAåˆæˆPromptç»“æ„

```
ä½ æ˜¯ä¸€ä¸ªæ•°æ®åˆæˆä¸“å®¶ã€‚åŸºäºä»¥ä¸‹Agentçš„æ¢ç´¢è½¨è¿¹ï¼Œåˆæˆä¸€ä¸ªé«˜è´¨é‡çš„é—®ç­”å¯¹ã€‚

ã€èµ·ç‚¹ä¿¡æ¯ã€‘
- ç±»å‹: {seed_type}
- è¯´æ˜: {seed_description}
- å†…å®¹: {seed_data}

ã€å®Œæ•´æ¢ç´¢è½¨è¿¹ã€‘
{trajectory_description}

{synthesis_tips}

{qa_examples}

{è¾“å‡ºè¦æ±‚}
```

---

## ä¼˜åŠ¿

### 1. å®Œå…¨çµæ´»
- ä»»ä½•agentç¯å¢ƒéƒ½å¯ä»¥ä½¿ç”¨ä»»ä½•seedç±»å‹
- ä¸å—é¢„è®¾ç»„åˆé™åˆ¶

### 2. æ˜“äºæ‰©å±•
- æ·»åŠ æ–°çš„agentç¯å¢ƒï¼šåªéœ€åœ¨Environmentä¸­æ³¨å†Œæ–°å·¥å…·
- æ·»åŠ æ–°çš„seedç±»å‹ï¼šåªéœ€åœ¨é…ç½®ä¸­å®šä¹‰seed_typeå’Œdescription

### 3. é…ç½®é©±åŠ¨
- æ‰€æœ‰è¡Œä¸ºé€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶
- æ— éœ€ä¿®æ”¹ä»£ç å³å¯å®ç°æ–°çš„ç»„åˆ

### 4. Promptè‡ªåŠ¨ç”Ÿæˆ
- æ ¹æ®é…ç½®è‡ªåŠ¨ç”Ÿæˆåˆé€‚çš„prompt
- ç¡®ä¿ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§

---

## è¿ç§»æŒ‡å—

### ä»æ—§ç‰ˆæœ¬è¿ç§»

#### 1. å‘½ä»¤è¡Œå‚æ•°å˜åŒ–

```bash
# æ—§ç‰ˆæœ¬
python synthesis_pipeline.py \
    --config config.json \
    --seed-entities entities.json  # æ—§å‚æ•°å
    --output-dir results

# æ–°ç‰ˆæœ¬
python synthesis_pipeline.py \
    --config config.json \
    --seeds seeds.json  # æ–°å‚æ•°åï¼Œæ›´é€šç”¨
    --output-dir results
```

#### 2. é…ç½®æ–‡ä»¶æ— éœ€ä¿®æ”¹

é…ç½®æ–‡ä»¶æ ¼å¼ä¿æŒä¸å˜ï¼Œä½†ç°åœ¨`seed_type`å’Œ`environment_mode`å¯ä»¥ä»»æ„ç»„åˆã€‚

#### 3. Seedæ–‡ä»¶æ ¼å¼

æ—§çš„seedæ–‡ä»¶ä¾ç„¶å…¼å®¹ï¼š
```json
{
  "entities": ["entity1", "entity2"]
}
```

æ–°æ ¼å¼æ›´é€šç”¨ï¼š
```json
{
  "seeds": ["seed1", "seed2"]
}
```

æˆ–è€…ç›´æ¥ç”¨åˆ—è¡¨ï¼š
```json
["seed1", "seed2"]
```

---

## æœ€ä½³å®è·µ

### 1. åˆç†é€‰æ‹©seed_type

æ ¹æ®ä½ çš„æ•°æ®ç‰¹ç‚¹é€‰æ‹©seed_typeï¼š
- æ¢ç´¢å®ä½“ä¿¡æ¯ â†’ `"entity"`
- è§£å†³é—®é¢˜ â†’ `"problem"`
- åˆ†ææ–‡æœ¬ â†’ `"text"`
- å¤„ç†é“¾æ¥ â†’ `"url"`

### 2. è‡ªå®šä¹‰seed_description

ä¸ºç‰¹å®šåœºæ™¯æä¾›æ¸…æ™°çš„seedæè¿°ï¼š

```json
{
  "seed_type": "custom_type",
  "seed_description": "è¿™æ˜¯ä¸€ä¸ªç‰¹å®šé¢†åŸŸçš„æ•°æ®ç‚¹ï¼Œéœ€è¦é€šè¿‡XXæ–¹å¼è¿›è¡Œåˆ†æ"
}
```

### 3. åˆç†æ­é…å·¥å…·å’Œseed

è€ƒè™‘å·¥å…·èƒ½åŠ›å’Œseedç‰¹ç‚¹çš„åŒ¹é…ï¼š
- Webå·¥å…· + URL seed: é€‚åˆç½‘é¡µåˆ†æ
- Mathå·¥å…· + Problem seed: é€‚åˆæ•°å­¦é—®é¢˜æ±‚è§£
- RAGå·¥å…· + Text seed: é€‚åˆæ–‡æ¡£æ£€ç´¢

### 4. åˆ©ç”¨synthesis_tips

é€šè¿‡synthesis_tipså¼•å¯¼agentçš„æ¢ç´¢ç­–ç•¥ï¼š

```json
{
  "synthesis_tips": "é‡ç‚¹å…³æ³¨ä»¥ä¸‹æ–¹é¢ï¼š\n1. æŠ€æœ¯ç»†èŠ‚\n2. å®é™…åº”ç”¨\n3. ä¼˜ç¼ºç‚¹å¯¹æ¯”"
}
```

---

## å¸¸è§é—®é¢˜

### Q: å¯ä»¥è‡ªå®šä¹‰seed_typeå—ï¼Ÿ

**A**: å¯ä»¥ï¼seed_typeå¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²ï¼Œåªè¦åœ¨seed_descriptionä¸­æä¾›æ¸…æ™°è¯´æ˜å³å¯ã€‚

### Q: ä¸€ä¸ªagentå¯ä»¥åŒæ—¶ä½¿ç”¨å¤šç§seedç±»å‹å—ï¼Ÿ

**A**: ä¸€æ¬¡è¿è¡Œä½¿ç”¨ä¸€ç§seedç±»å‹ï¼Œä½†ä½ å¯ä»¥å‡†å¤‡å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«è¿è¡Œä¸åŒçš„ç»„åˆã€‚

### Q: å¦‚ä½•çŸ¥é“å“ªäº›ç»„åˆæ•ˆæœå¥½ï¼Ÿ

**A**: è¿™éœ€è¦å®éªŒã€‚ä¸€èˆ¬åŸåˆ™æ˜¯å·¥å…·èƒ½åŠ›è¦åŒ¹é…seedéœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œç”¨webå·¥å…·æ¢ç´¢URLæ˜¯åˆç†çš„ï¼Œç”¨calculatorå·¥å…·å¤„ç†URLå°±ä¸å¤ªåˆé€‚ã€‚

### Q: metadataä¸­ä¼šä¿å­˜seed_typeå—ï¼Ÿ

**A**: ä¼šï¼æ¯ä¸ªç”Ÿæˆçš„QAå¯¹çš„metadataä¸­éƒ½åŒ…å«`seed_type`å’Œ`seed_data`ï¼Œä¾¿äºè¿½æº¯ã€‚

---

## ç¤ºä¾‹é…ç½®é›†åˆ

åœ¨ `configs/` ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬æä¾›äº†å¤šç§é¢„é…ç½®çš„ç»„åˆï¼š

- `web_config.json`: Webç¯å¢ƒ + Entity seed
- `math_config.json`: Mathç¯å¢ƒ + Problem seed
- `python_config.json`: Pythonç¯å¢ƒ + Problem seed
- `rag_config.json`: RAGç¯å¢ƒ + Text seed

ä½ å¯ä»¥åŸºäºè¿™äº›æ¨¡æ¿åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰é…ç½®ï¼

---

## æ€»ç»“

æ–°çš„è§£è€¦è®¾è®¡è®©ä½ å¯ä»¥ï¼š
1. ğŸ”„ ä»»æ„ç»„åˆagentå’Œseedç±»å‹
2. âš™ï¸ å®Œå…¨é€šè¿‡é…ç½®æ§åˆ¶è¡Œä¸º
3. ğŸš€ æ— éœ€ä¿®æ”¹ä»£ç å³å¯æ‰©å±•
4. ğŸ“ Promptè‡ªåŠ¨é€‚é…é…ç½®
5. ğŸ¯ ä¸“æ³¨äºæ•°æ®æœ¬èº«è€Œéå®ç°ç»†èŠ‚

å°½æƒ…æ¢ç´¢ä¸åŒçš„ç»„åˆï¼Œå‘ç°æœ€é€‚åˆä½ åœºæ™¯çš„é…ç½®ï¼

